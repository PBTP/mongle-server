global:
  scrape_interval: 15s  # 15초마다 메트릭을 스크랩

scrape_configs:
  # mongle-server 컨테이너의 메트릭 수집
  - job_name: 'mongle-server'
    metrics_path: /metrics
    static_configs:
      - targets: [ 'host.docker.internal:3000' ]  # Docker Compose의 NestJS 컨테이너와 포트 지정

  # Prometheus 자체 메트릭 수집
  - job_name: 'prometheus'
    static_configs:
      - targets: [ 'localhost:9090' ]

  # Postgres Exporter 메트릭 수집
  - job_name: 'postgres-exporter'
    static_configs:
      - targets: [ 'pg-exporter:9187' ]  # Docker Compose의 Postgres Exporter 컨테이너와 포트 지정
